<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="guide_files/libs/clipboard/clipboard.min.js"></script>
<script src="guide_files/libs/quarto-html/quarto.js"></script>
<script src="guide_files/libs/quarto-html/popper.min.js"></script>
<script src="guide_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="guide_files/libs/quarto-html/anchor.min.js"></script>
<link href="guide_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="guide_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="guide_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="guide_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="guide_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/suhi_adaptation.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<section id="policies-and-initiatives" class="level2">
<h2 class="anchored" data-anchor-id="policies-and-initiatives">Policies and Initiatives</h2>
<section id="european-level" class="level3">
<h3 class="anchored" data-anchor-id="european-level">European level</h3>
<section id="the-new-eu-strategy-for-adaptation-to-climate-change-2021" class="level4">
<h4 class="anchored" data-anchor-id="the-new-eu-strategy-for-adaptation-to-climate-change-2021">The new EU Strategy for Adaptation to Climate Change (2021)</h4>
<p>The European Commission adopted the Communication ‘Forging a climate-resilient Europe – the new EU Strategy on Adaptation to Climate Change’ on 24 February 2021 as climate change is making its effects felt in Europe and around the world through an increase in the frequency of extreme weather and climate events and the warmest decade on record. It has also been drawn up against the backdrop of the COVD-19 pandemic, which has triggered crises in the EU and beyond.</p>
<p>The main aim of the strategy is to create a resilient Union to prevent maladaptation to the effects of climate change and develop resilience to the unexpected, a Union that will become climate neutral by 2050, protecting the well-being and health of its citizens.</p>
<p>The strategy is based on three operational axes:</p>
<ul>
<li><p>Smarter adaptation</p></li>
<li><p>More systemic adaptation</p></li>
<li><p>Faster adaptation.</p></li>
</ul>
<p>Link: <a href="https://climate.ec.europa.eu/eu-action/adaptation-climate-change/eu-adaptation-strategy_en" class="uri">https://climate.ec.europa.eu/eu-action/adaptation-climate-change/eu-adaptation-strategy_en</a></p>
</section>
<section id="the-european-green-deal" class="level4">
<h4 class="anchored" data-anchor-id="the-european-green-deal">The European Green Deal</h4>
<p>It was adopted by the European Commission on 11 December 2019 and is Europe’s instrument to address complex environmental and climate challenges through a growth strategy focused on a fair and prosperous society with a modern, resource-efficient and competitive economy with no net greenhouse gas emissions by 2050 and where economic growth is decoupled from resource use. The European Green Deal is also the European Commission’s strategy for implementing the United Nations 2030 Agenda and the Sustainable Development Goals, putting sustainable development at the heart of European policies.</p>
<p>Link: <a href="https://commission.europa.eu/strategy-and-policy/priorities-2019-2024/european-green-deal_en" class="uri">https://commission.europa.eu/strategy-and-policy/priorities-2019-2024/european-green-deal_en</a></p>
</section>
<section id="eurocities-strategic-framework-for-2020-2030" class="level4">
<h4 class="anchored" data-anchor-id="eurocities-strategic-framework-for-2020-2030">Eurocities Strategic Framework for 2020-2030</h4>
<p>Eurocities is a leading network of major European cities working together to ensure a good quality of life for all. Eurocities comprises over 200 cities in 38 countries, representing 130 million people. Eurocities’ strategic framework for 2020-2030 Eurocities is a leading network of major European cities working together to ensure a good quality of life for all. Eurocities comprises over 200 cities in 38 countries, representing 130 million people.&nbsp;</p>
<p>Romanian cities in Eurocities network: Cluj-Napoca, Timisoara, Constanta.</p>
<p>Link: <a href="https://eurocities.eu/cities/" class="uri">https://eurocities.eu/cities/</a></p>
</section>
</section>
<section id="national-level" class="level3">
<h3 class="anchored" data-anchor-id="national-level"><strong>National level</strong></h3>
<section id="national-strategy-on-adaptation-to-climate-change-for-the-period-2022-2030" class="level4">
<h4 class="anchored" data-anchor-id="national-strategy-on-adaptation-to-climate-change-for-the-period-2022-2030">National strategy on adaptation to climate change for the period 2022-2030</h4>
</section>
<section id="national-action-plan-for-adaptation-to-climate-change" class="level4">
<h4 class="anchored" data-anchor-id="national-action-plan-for-adaptation-to-climate-change">National Action Plan for Adaptation to Climate Change</h4>
</section>
<section id="national-integrated-urban-development-strategy-for-resilient-green-inclusive-and-competitive-cities-2022-2035---romanias-urban-policy" class="level4">
<h4 class="anchored" data-anchor-id="national-integrated-urban-development-strategy-for-resilient-green-inclusive-and-competitive-cities-2022-2035---romanias-urban-policy">National Integrated Urban Development Strategy for Resilient, Green, Inclusive and Competitive Cities 2022-2035 - Romania’s Urban Policy</h4>
<p>This is the first strategic document at national level dedicated to urban development, being a concrete instrument for the transposition at national level of the objectives and principles of the framework documents at European and global level. It aims to improve urban resilience through the development of local policies and strategies leading to greener, more sustainable, more competitive and more social cities.</p>
<p>Link: <a href="https://www.mdlpa.ro/pages/politicaurbanaro2035"><strong>https://www.mdlpa.ro/pages/politicaurbanaro2035</strong></a></p>
</section>
<section id="national-strategy-for-the-sustainable-development-of-romania-2030" class="level4">
<h4 class="anchored" data-anchor-id="national-strategy-for-the-sustainable-development-of-romania-2030">National Strategy for the Sustainable Development of Romania 2030</h4>
<p>Adopted by the Romanian Government in November 2018, National Strategy for the Sustainable Development - 2030 sets the national framework for supporting the 2030 Agenda and the implementation of the set of 17 SDGs. The strategy supports Romania’s development on three pillars economic, social and environmental pillars. The strategy is citizen-oriented and focuses on innovation, optimism, resilience and trust that the state serves the needs of every citizen in a fair, efficient and clean environment in a balanced and integrated way.&nbsp;&nbsp;</p>
<p>Link: <a href="https://dezvoltaredurabila.gov.ro/strategia-nationala-pentru-dezvoltarea-durabila-a-romaniei-2030-i" class="uri">https://dezvoltaredurabila.gov.ro/strategia-nationala-pentru-dezvoltarea-durabila-a-romaniei-2030-i</a></p>
</section>
<section id="national-integrated-energy-and-climate-change-plan-2021-2030" class="level4">
<h4 class="anchored" data-anchor-id="national-integrated-energy-and-climate-change-plan-2021-2030">National Integrated Energy and Climate Change Plan 2021-2030</h4>
<p>This plan aims to set out the basis for policies and interventions designed to ensure a socially just transition for Romania. It is also strongly focused on sustainable and green development targets, especially in urban areas.&nbsp;</p>
<p>Link: <a href="https://energy.ec.europa.eu/system/files/2020-04/ro_final_necp_main_ro_0.pdf" class="uri">https://energy.ec.europa.eu/system/files/2020-04/ro_final_necp_main_ro_0.pdf</a></p>
</section>
</section>
<section id="local-level" class="level3">
<h3 class="anchored" data-anchor-id="local-level"><strong>Local level</strong></h3>
<section id="integrated-urban-development-strategy-of-bucharest-2021-2030" class="level4">
<h4 class="anchored" data-anchor-id="integrated-urban-development-strategy-of-bucharest-2021-2030">Integrated Urban Development Strategy of Bucharest 2021 – 2030</h4>
<p>This is the main local strategic document that sets out the key development directions for the city, as well as short, medium and long-term priority projects and programmes. It investigates the problems and needs of the city and proposes the strategic pillars of sustainable and harmonised development of the capital city.</p>
<p>Link: <a href="https://estibucuresti.pmb.ro/sidu" class="uri">https://estibucuresti.pmb.ro/sidu</a></p>
</section>
</section>
</section>
<section id="synuhi-adaptation-tool" class="level2">
<h2 class="anchored" data-anchor-id="synuhi-adaptation-tool">SynUHI Adaptation Tool</h2>
<p>Support Tool for Urban Adaptation to Heat Waves in Romania aims to assist urban planners, policymakers, and stakeholders to make informed decisions on developing, implementing, and monitoring adaptation plans. The SynUHI Adaptation Tool provides relevant information for setting up the local adaptation process in urban areas in Romania, gathering climate data and local risk information for 41 cities.&nbsp;</p>
<p>It provides guidelines and specific options to better cope with the UHI-HW stress under current and future climate conditions. It is based on Urban Adaptation Support Tool steps (<a href="https://climate-adapt.eea.europa.eu/en/knowledge/tools/urban-ast/step-0-0" class="uri">https://climate-adapt.eea.europa.eu/en/knowledge/tools/urban-ast/step-0-0</a>) and uses dynamic analysis and simulations for the local contexts of the biggest cities in Romania.&nbsp;&nbsp;</p>
<p>In connection with the data visualisation feature, the adaptation tool provides the basis for an effective adaptation process, providing relevant information on UHI&amp;HW risks and vulnerabilities, adaptation options and best practices. The tool also supports the assessment and monitoring of adaptation options in urban areas in Romania.&nbsp;</p>
<p>The tool is closely linked and aligned with the European Climate-Adapt Platform (<a href="https://climate-adapt.eea.europa.eu/">https://climate-adapt.eea.europa.eu</a>) and National Adaptation Platform in Romania (<a href="https://roadapt.ro/">https://roadapt.ro</a>).&nbsp;</p>
</section>
<section id="synuhi-adaptation-guideline" class="level2">
<h2 class="anchored" data-anchor-id="synuhi-adaptation-guideline">SynUHI Adaptation Guideline</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/synuhi_guidlines.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<section id="preparing-the-ground-for-adaptation" class="level3">
<h3 class="anchored" data-anchor-id="preparing-the-ground-for-adaptation">Preparing the ground for adaptation</h3>
<p>Adaptation process development should be based on evidence and robust information. This includes identifying existing work on actual and potential future climate change-related effects, ongoing adaptation activities and good practice examples within or outside the city.&nbsp;</p>
<p>The main policy documents addressing adaptation to climate risks are compiled at European, national and local level and serve as a necessary policy context.&nbsp;</p>
<p>Urban adaptation is a multi-sectoral process, thus multiple types of data are needed for a comprehensive approach.</p>
<table class="table">
<thead>
<tr class="header">
<th><strong>Types of information</strong></th>
<th><strong>Information sources</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Weather forecasts</p>
<p>Observed trends</p>
<p>Climate projections</p></td>
<td><p>National Meteorological Administration (Meteo-RO) - <a href="http://rcc.meteoromania.ro/">http://rcc.meteoromania.ro</a></p>
<p>National Adaptation Platform (RO-ADAPT) - <a href="https://roadapt.ro/">https://roadapt.ro</a></p>
<p>Copernicus and Climate Change Service - <a href="https://climate.copernicus.eu/">https://climate.copernicus.eu</a></p></td>
</tr>
<tr class="even">
<td>Environmental assessments and natural hazards</td>
<td>National Agency for Environmental Protection - <a href="https://atlas.anpm.ro/atlas" class="uri">https://atlas.anpm.ro/atlas</a></td>
</tr>
<tr class="odd">
<td>Current vulnerability and adaptive capacity assessments</td>
<td><p>Population, demographic and socio-economic data from Eurostat (<a href="https://ec.europa.eu/eurostat" class="uri">https://ec.europa.eu/eurostat</a>) and National Institute of Statistics (<a href="https://insse.ro/cms/en" class="uri">https://insse.ro/cms/en</a>)</p>
<p>Health records from National Institute for Public Health (<a href="https://insp.gov.ro/">https://insp.gov.ro</a>)</p>
<p>Maps of infrastructure, green space, public health facilities - General Urban Plan</p></td>
</tr>
<tr class="even">
<td>Socio-economic future projections</td>
<td><p>Population projections</p>
<p>Scenarios of political developments, consumption patterns, infrastructure development, market transformation, etc.</p>
<p>National Institute of Statistics (<a href="https://insse.ro/cms/en" class="uri">https://insse.ro/cms/en</a>)</p></td>
</tr>
<tr class="odd">
<td>Other relevant strategies, policies and plans</td>
<td><p>Strategies for sustainable/economic development:</p>
<p>-National Strategy for the Sustainable Development of Romania 2030</p>
<p>- Integrated Urban Development Strategy of Bucharest 2021 – 2030&nbsp; (<a href="https://estibucuresti.pmb.ro/sidu)" class="uri">https://estibucuresti.pmb.ro/sidu)</a></p>
<p>- National Integrated Urban Development Strategy for Resilient, Green, Inclusive and Competitive Cities 2022-2035 - Romania’s Urban Policy</p></td>
</tr>
</tbody>
</table>
</section>
<section id="assessing-urban-heat-risks-and-vulnerabilities" class="level3">
<h3 class="anchored" data-anchor-id="assessing-urban-heat-risks-and-vulnerabilities">Assessing urban heat risks and vulnerabilities</h3>
<section id="recognizing-past-and-present-climate-impacts" class="level4">
<h4 class="anchored" data-anchor-id="recognizing-past-and-present-climate-impacts">Recognizing past and present climate impacts</h4>
<p>SynUHI conducted:&nbsp;</p>
<ul>
<li><p>The study of the relationships between heat waves and the urban heat island.&nbsp;</p></li>
<li><p>Selection of relevant indices and indicators for the analysis of heat waves and their relationship with the urban heat island.&nbsp;</p></li>
<li><p>Analysis of wave variability of heat in the current climate.&nbsp;</p></li>
</ul>
<p>Past and present urban climate was analyzed for the available period, with a focus on the hazard driven by heat waves in the context of the urban heat island.</p>
</section>
<section id="understanding-climate-projections-and-future-impacts" class="level4">
<h4 class="anchored" data-anchor-id="understanding-climate-projections-and-future-impacts">Understanding climate projections and future impacts</h4>
<p>Heat-related hazards expose cities to major risks and climate change projections indicate a substantial increase in health impacts such as mortality. Exposure to high temperatures may be amplified by the combined effect of global warming and urban heat islands that threaten the sustainable development of cities. National-scale assessment of heat hazard and risk indicates high values in cities in the south, south-east and south-west of Romania.&nbsp;&nbsp;</p>
<p>Warming in urban areas is expected to persist and intensify in both climate scenarios (RCP 4.5 and RCP 8.5) and socioeconomic scenarios (SSPs) from 2021 to 2050, indicating an increase in night-time heat stress. This increase is also expected to be more intense in the southern part of the country. Heat waves are a risk factor for all the analysed cities, and the level of that risk depends on local vulnerability.&nbsp;</p>
<p>The SynUHI tool provides a more detailed analysis at the level of the main cities in Romania, complementing national and European tools:&nbsp;</p>
<ul>
<li><p>RO-ADAPT platform, where local air temperature indicators are provided for the 2100 time horizon.&nbsp;</p></li>
<li><p>Urban Adaptation Map Viewer, the Climate-ADAPT tool, provides climate projections and socio-economic information for urban adaptation.&nbsp;&nbsp;</p></li>
<li><p>European Climate Data Explorer, which provides interactive access to a growing selection of climate indices for key sectors at EU level for the 2100 time horizon.&nbsp;</p></li>
</ul>
</section>
<section id="identifying-vulnerable-urban-sectors" class="level4">
<h4 class="anchored" data-anchor-id="identifying-vulnerable-urban-sectors">Identifying vulnerable urban sectors</h4>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Sector</strong></td>
<td><strong>Impacts</strong></td>
</tr>
<tr class="even">
<td>Public Health</td>
<td><p>- Increased heat-related illnesses and deaths</p>
<p>- Exacerbation of respiratory conditions due to poor air quality</p>
<p>- Impact on mental health due to prolonged exposure to heat</p></td>
</tr>
<tr class="odd">
<td>Energy</td>
<td><p>- Higher demand for air conditioning leading to increased energy consumption</p>
<p>- Strain on the power grid during peak cooling periods</p></td>
</tr>
<tr class="even">
<td>Infrastructure</td>
<td><p>- Deterioration of roads and buildings due to higher temperatures</p>
<p>- Increased maintenance costs for infrastructure repairs</p></td>
</tr>
<tr class="odd">
<td>Water Resources</td>
<td><p>- Increased water consumption for irrigation and cooling purposes</p>
<p>- Stress on water sources due to higher demand</p></td>
</tr>
<tr class="even">
<td>Biodiversity</td>
<td><p>- Disruption of ecosystems and habitats</p>
<p>- Changes in plant and animal species distribution</p></td>
</tr>
<tr class="odd">
<td>Industry</td>
<td><p>- Reduced productivity in outdoor industries during heatwaves</p>
<p>- Increased healthcare costs due to heat-related illnesses</p></td>
</tr>
<tr class="even">
<td>Buildings</td>
<td><p>- Accelerated degradation of building materials due to prolonged exposure to high temperatures</p>
<p>- Increased wear and tear on roofs, walls, and other surfaces.</p>
<p>- Repairing heat-related damage to roofs, walls, and other building components.</p></td>
</tr>
<tr class="odd">
<td>Social Equity</td>
<td><p>- Vulnerable populations disproportionately affected by heat stress</p>
<p>- Disparities in access to cooling resources and green spaces</p></td>
</tr>
</tbody>
</table>
</section>
<section id="conducting-risk-and-vulnerability-assessments" class="level4">
<h4 class="anchored" data-anchor-id="conducting-risk-and-vulnerability-assessments">Conducting risk and vulnerability assessments</h4>
<p>Urban Heat Island and Heatwaves risks assessment in a city should consider several aspects: the climate threat (projected climatic conditions); context of the geographic location (e.g.&nbsp;coastal area, mountain region, etc.); and affected sectors and systems (e.g.&nbsp;human health, infrastructure, transport, energy, water, etc.) including the impacts on the most vulnerable groups (e.g.&nbsp;the elderly).&nbsp;</p>
<p>Risk and vulnerability assessment questions:&nbsp;</p>
<ul>
<li><p>What are the evolution and trends of HW and UHI indicators based on a range of different climate scenarios?&nbsp;</p></li>
<li><p>What are the HW and UHI hazards that occur in the city?&nbsp;</p></li>
<li><p>What are the most vulnerable areas, populations and economic activities in the city and what are the expected impacts on these?&nbsp;</p></li>
<li><p>What is the confidence level for such impacts in the local context?&nbsp;</p></li>
</ul>
</section>
</section>
<section id="identifying-main-adaptation-concerns-and-defining-objectives" class="level3">
<h3 class="anchored" data-anchor-id="identifying-main-adaptation-concerns-and-defining-objectives">Identifying main adaptation concerns and defining objectives</h3>
<p>Based on the HW and UHI risk and hazard assessments and local vulnerabilities, a strategic direction should be developed. These preliminary analyses help to identify key adaptation issues and define priorities and needs for strengthening urban resilience. Once the main adaptation issues are known and prioritised, specific and realistic adaptation objectives for the city can be defined.&nbsp;</p>
<p>Adaptation objectives should address:&nbsp;</p>
<ul>
<li><p>Developing integrative strategies for adapting HW and UHI to adequately address the city’s needs and improve resilience&nbsp;</p></li>
<li><p>Developing heat action plans and early warning systems for better response to heat waves, ensuring prompt communication and access to cooling centres.&nbsp;</p></li>
<li><p>Improving urban planning to incorporate heat mitigation strategies such as zoning regulations that promote green infrastructure and sustainable building practices&nbsp;</p></li>
<li><p>Raising public awareness on the risks of extreme heat and ways of protection&nbsp;</p></li>
<li><p>Reducing social inequalities and ensuring that adaptation strategies consider the needs of the most vulnerable populations.</p></li>
</ul>
</section>
<section id="identifying-adaptation-options" class="level3">
<h3 class="anchored" data-anchor-id="identifying-adaptation-options">Identifying adaptation options</h3>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<tbody>
<tr class="odd">
<td>Type of adaptation measures</td>
<td>Adaptation measures</td>
</tr>
<tr class="even">
<td>Urban Planning</td>
<td><ul>
<li><p>Cool pavements</p></li>
<li><p>Urban ventilation corridors</p></li>
<li><p>Shade structures</p></li>
<li><p>Integration of water features (fontains, ponds, water bodies)</p></li>
<li><p>Rainwater management structures</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Buildings</td>
<td><ul>
<li><p>Cool roofs</p></li>
<li><p>Reflective materials for roofs and facades</p></li>
<li><p>Natural ventilation systems</p></li>
<li><p>Facade shading structures</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Vegetation and Urban Greening</td>
<td><ul>
<li><p>Green roofs and facades</p></li>
<li><p>Planting trees along the streets</p></li>
<li><p>Designing and preserving green spaces and parks and urban gardens</p></li>
<li><p>Development of urban agriculture</p></li>
<li><p>Greening tramway tracks and green corridors</p></li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section id="assessing-and-selecting-adaptation-options" class="level3">
<h3 class="anchored" data-anchor-id="assessing-and-selecting-adaptation-options">Assessing and selecting adaptation options</h3>
<p>Adaptation options must be assessed to determine their suitability to the local context and their effectiveness in reducing the air temperature in urban areas.&nbsp;&nbsp;</p>
<p>Comprehensive guidelines for urban adaptation to climate change are available at the EU level (<a href="https://climate-adapt.eea.europa.eu/en/metadata/guidances/guide-to-climate-change-adaptation-in-cities">Guide to Climate Change Adaptation in Cities</a>, <a href="https://climate-adapt.eea.europa.eu/en/metadata/guidances/planning-for-adaptation-to-climate-change-guidelines-for-municipalities">Planning for Adaptation to Climate Change - Guidelines for Municipalities</a>), providing relevant information on adaptation and implementation of adaptation options, while the SynUHI tool provides a quantitative assessment of the adaptation options effects. Using climate modelling, it explores the interaction between the urban heat island and adaptation strategies, providing the evolution of air temperature in a site where a measure has been implemented.&nbsp;</p>
<p>This assessment of direct impacts on air temperature is a basis for a broad multi-criteria assessment that should be carried out to select the best options to be implemented. An effective adaptation measure could reduce the air temperature by 1 to 4 degrees Celsius. In addition, a more comprehensive analysis should consider financial and social impacts, success and limiting factors and linkages, and compatibility with other measures.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>